const db = require("./database");
const getNewData = require("./request");
const core = require("./core");

async function init() {
  await db.createConnection();

  const savedData = await db.getSavedData();
  const newData = await getNewData();
  await db.saveData(newData);

  const newItems = core.defineNewItems(savedData, newData);

  if (newItems["plugins"].length > 0 || newItems["themes"].length > 0) {
    console.log("newItems", newItems);
  }
}

init();
