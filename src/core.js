function defineNewItems(savedData, newData) {
  return {
    plugins: getDiff(savedData["plugins"], newData["plugins"]),
    themes: getDiff(savedData["themes"], newData["themes"]),
  };
}

function getDiff(data1, data2) {
  return data2.reduce(
    (diff, item2) => (!includesItem(item2, data1) ? [...diff, item2] : diff),
    []
  );
}

function includesItem(item2, data1) {
  return data1.some(
    (item1) => item1.name === item2.name && item1.title === item2.title
  );
}

module.exports = {
  defineNewItems,
};
